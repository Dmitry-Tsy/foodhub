# üìù Logs - –§–∞–π–ª—ã –ª–æ–≥–æ–≤

–í —ç—Ç–æ–π –ø–∞–ø–∫–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –ª–æ–≥ —Ñ–∞–π–ª—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ —Å–±–æ—Ä–∫–∏.

---

## üìÇ –¢–∏–ø—ã –ª–æ–≥–æ–≤

### Build Logs (—Å–±–æ—Ä–∫–∞):
- `build-*.log` - –ª–æ–≥–∏ gradle —Å–±–æ—Ä–∫–∏
- `gradle-*.log` - gradle —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –ª–æ–≥–∏

### Backend Logs:
- `backend.log` - –ª–æ–≥–∏ backend —Å–µ—Ä–≤–µ—Ä–∞ (–ø—Ä–∏ –ª–æ–∫–∞–ª—å–Ω–æ–º –∑–∞–ø—É—Å–∫–µ)

### App Logs:
- `app-*.log` - –ª–æ–≥–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (–µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ)

---

## üîç –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤

### Gradle build logs:
```bash
# –ü–æ—Å–ª–µ–¥–Ω–∏–µ 50 —Å—Ç—Ä–æ–∫
tail -50 logs/build-latest.log

# –ü–æ–∏—Å–∫ –æ—à–∏–±–æ–∫
grep -i error logs/build-latest.log
```

### Backend logs:
```bash
# –ñ–∏–≤–æ–π –ø—Ä–æ—Å–º–æ—Ç—Ä
tail -f logs/backend.log

# –ü–æ–∏—Å–∫ –ø–æ —Ç–µ–∫—Å—Ç—É
grep "error" logs/backend.log
```

### Android device logs (—á–µ—Ä–µ–∑ adb):
```bash
# –í—Å–µ –ª–æ–≥–∏
adb logcat

# –¢–æ–ª—å–∫–æ FoodHub
adb logcat | grep FoodHub

# –¢–æ–ª—å–∫–æ –æ—à–∏–±–∫–∏
adb logcat *:E
```

---

## üßπ –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –ª–æ–≥–æ–≤

### –í—Ä—É—á–Ω—É—é:
```bash
# –£–¥–∞–ª–∏—Ç—å –≤—Å–µ –ª–æ–≥–∏
rm logs/*.log

# –£–¥–∞–ª–∏—Ç—å –ª–æ–≥–∏ —Å—Ç–∞—Ä—à–µ 7 –¥–Ω–µ–π
find logs/ -name "*.log" -mtime +7 -delete
```

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ (–º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –≤ cron):
```bash
# –°–∫—Ä–∏–ø—Ç –æ—á–∏—Å—Ç–∫–∏ (—Å–æ–∑–¥–∞–π—Ç–µ cleanup-logs.sh)
#!/bin/bash
find /path/to/FoodHub/logs/ -name "*.log" -mtime +7 -delete
echo "Old logs cleaned up on $(date)"
```

---

## üìä –†–∞–∑–º–µ—Ä –ª–æ–≥–æ–≤

–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–∑–º–µ—Ä –ø–∞–ø–∫–∏ –ª–æ–≥–æ–≤:
```bash
du -sh logs/
```

–ù–∞–π—Ç–∏ —Å–∞–º—ã–µ –±–æ–ª—å—à–∏–µ –ª–æ–≥ —Ñ–∞–π–ª—ã:
```bash
du -ah logs/ | sort -rh | head -10
```

---

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è

### Backend (Node.js):

–í `backend/src/server.ts`:
```typescript
import * as fs from 'fs';
import * as path from 'path';

// –°–æ–∑–¥–∞—Ç—å –ø–∞–ø–∫—É –¥–ª—è –ª–æ–≥–æ–≤
const logsDir = path.join(__dirname, '../../logs');
if (!fs.existsSync(logsDir)) {
  fs.mkdirSync(logsDir, { recursive: true });
}

// –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ —Ñ–∞–π–ª
const logStream = fs.createWriteStream(
  path.join(logsDir, 'backend.log'),
  { flags: 'a' }
);

app.use(morgan('combined', { stream: logStream }));
```

### Frontend (React Native):

–í `src/utils/logger.ts`:
```typescript
// –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–æ–ª—å–∫–æ –≤ dev —Ä–µ–∂–∏–º–µ
export const log = (...args: any[]) => {
  if (__DEV__) {
    console.log(...args);
  }
};

export const logError = (error: Error) => {
  if (__DEV__) {
    console.error(error);
  }
  // –û—Ç–ø—Ä–∞–≤–∏—Ç—å –≤ –∞–Ω–∞–ª–∏—Ç–∏–∫—É (Sentry, Firebase, etc.)
};
```

---

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

**–í–ê–ñ–ù–û:**
- –õ–æ–≥–∏ –º–æ–≥—É—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é
- –ù–ï –∫–æ–º–º–∏—Ç—å—Ç–µ –ª–æ–≥–∏ –≤ Git (.gitignore)
- –ù–ï –≤–∫–ª—é—á–∞–π—Ç–µ –ø–∞—Ä–æ–ª–∏, —Ç–æ–∫–µ–Ω—ã, API keys –≤ –ª–æ–≥–∏
- –†–æ—Ç–∏—Ä—É–π—Ç–µ –ª–æ–≥–∏ —Ä–µ–≥—É–ª—è—Ä–Ω–æ

### –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö:

```typescript
// –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
const safeLog = (data: any) => {
  const safe = { ...data };
  if (safe.password) safe.password = '***';
  if (safe.token) safe.token = safe.token.slice(0, 10) + '...';
  console.log(safe);
};
```

---

## üìã .gitignore –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

–í `.gitignore`:
```gitignore
# Logs
logs/
*.log
backend/*.log
```

---

## üêõ Troubleshooting

### –õ–æ–≥–∏ –Ω–µ —Å–æ–∑–¥–∞—é—Ç—Å—è:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ –ø–∞–ø–∫–µ logs/
2. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –ø–∞–ø–∫–∞ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–¥ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è

### –õ–æ–≥–∏ —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–∏–µ:
1. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Ä–æ—Ç–∞—Ü–∏—é –ª–æ–≥–æ–≤
2. –£–º–µ–Ω—å—à–∏—Ç–µ —É—Ä–æ–≤–µ–Ω—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –≤ production
3. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–æ–ª—å–∫–æ –¥–ª—è –æ—à–∏–±–æ–∫

### –ù–µ –º–æ–∂–µ–º –Ω–∞–π—Ç–∏ –Ω—É–∂–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é:
1. –£–≤–µ–ª–∏—á—å—Ç–µ —É—Ä–æ–≤–µ–Ω—å –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–∏ (verbose mode)
2. –î–æ–±–∞–≤—å—Ç–µ timestamps –≤ –ª–æ–≥–∏
3. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ (JSON)

---

## üìù –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏

1. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —É—Ä–æ–≤–Ω–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è:**
   - ERROR - —Ç–æ–ª—å–∫–æ –æ—à–∏–±–∫–∏
   - WARN - –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è
   - INFO - –≤–∞–∂–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
   - DEBUG - –¥–µ—Ç–∞–ª—å–Ω–∞—è –æ—Ç–ª–∞–¥–∫–∞

2. **–î–æ–±–∞–≤–ª—è–π—Ç–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç:**
   ```typescript
   logger.error('User login failed', {
     userId: user.id,
     timestamp: new Date(),
     ip: req.ip
   });
   ```

3. **–†–æ—Ç–∞—Ü–∏—è –ª–æ–≥–æ–≤:**
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ —Ç–∏–ø–∞ `winston` –∏–ª–∏ `rotating-file-stream`
   - –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–π—Ç–µ —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, 10MB)
   - –•—Ä–∞–Ω–∏—Ç–µ –ø–æ—Å–ª–µ–¥–Ω–∏–µ N —Ñ–∞–π–ª–æ–≤

4. **–ù–µ –ª–æ–≥–∏—Ä—É–π—Ç–µ –≤—Å—ë:**
   - –í production –ª–æ–≥–∏—Ä—É–π—Ç–µ —Ç–æ–ª—å–∫–æ –≤–∞–∂–Ω–æ–µ
   - –ò–∑–±–µ–≥–∞–π—Ç–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –≤ —Ü–∏–∫–ª–∞—Ö
   - –ù–µ –ª–æ–≥–∏—Ä—É–π—Ç–µ –±–æ–ª—å—à–∏–µ –æ–±—ä–µ–∫—Ç—ã —Ü–µ–ª–∏–∫–æ–º

---

## üîó –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- [Winston Logger](https://github.com/winstonjs/winston)
- [Morgan HTTP Logger](https://github.com/expressjs/morgan)
- [ADB Logcat](https://developer.android.com/studio/command-line/logcat)

---

**Note:** –≠—Ç–∞ –ø–∞–ø–∫–∞ —Å–æ–∑–¥–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏ –Ω–µ –≤–∫–ª—é—á–∞–µ—Ç—Å—è –≤ Git —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π.

