#!/bin/bash

echo "üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ —Å–±–æ—Ä–∫–∏ APK..."
echo ""

# –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø—Ä–æ—Ü–µ—Å—Å —Å–±–æ—Ä–∫–∏
if pgrep -f "eas build" > /dev/null; then
    echo "‚úÖ –°–±–æ—Ä–∫–∞ –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ..."
    echo ""
    
    # –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–æ—Å–ª–µ–¥–Ω–∏–µ 30 —Å—Ç—Ä–æ–∫ –ª–æ–≥–æ–≤ –µ—Å–ª–∏ –µ—Å—Ç—å
    if [ -d "android" ]; then
        echo "üìÅ Native Android –ø—Ä–æ–µ–∫—Ç —Å–æ–∑–¥–∞–Ω"
    fi
    
    # –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ APK
    if [ -f "*.apk" ]; then
        echo "üéâ APK —Ñ–∞–π–ª –Ω–∞–π–¥–µ–Ω!"
        ls -lh *.apk
    fi
    
else
    echo "‚è∏Ô∏è  –ü—Ä–æ—Ü–µ—Å—Å —Å–±–æ—Ä–∫–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω"
    echo ""
    
    # –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç
    if [ -f "*.apk" ]; then
        echo "üéâ APK –ì–û–¢–û–í!"
        ls -lh *.apk
    elif [ -d "android" ]; then
        echo "‚ö†Ô∏è  –°–±–æ—Ä–∫–∞ –º–æ–≥–ª–∞ –∑–∞–≤–µ—Ä—à–∏—Ç—å—Å—è —Å –æ—à–∏–±–∫–æ–π"
        echo "–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤—ã—à–µ"
    else
        echo "‚ùå –°–±–æ—Ä–∫–∞ –µ—â–µ –Ω–µ –Ω–∞—á–∏–Ω–∞–ª–∞—Å—å –∏–ª–∏ –Ω–µ —Å–æ–∑–¥–∞–ª–∞ android –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é"
    fi
fi

echo ""
echo "üí° –°–æ–≤–µ—Ç: –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É –∑–∞–Ω–æ–≤–æ –µ—Å–ª–∏ –Ω—É–∂–Ω–æ:"
echo "   cd /Users/dmitrytsymlyakov/AndroidStudioProjects/FoodHub"
echo "   eas build --platform android --profile preview --local"

